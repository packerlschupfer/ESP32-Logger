; PlatformIO Test Configuration for Logger
; Logger requires FreeRTOS - must run on ESP32

[env:esp32-basic]
platform = espressif32
board = esp32dev
framework = arduino
build_flags =
    -D UNIT_TEST
    -D CONFIG_LOG_BUFFER_SIZE=256
    -D CONFIG_LOG_MAX_TAGS=32
    -D CONFIG_LOG_BUFFER_POOL_SIZE=8
    -Wall
lib_deps =
    throwtheswitch/Unity@^2.5.2
monitor_speed = 115200
test_filter = test_*

[env:esp32-thread-safety]
platform = espressif32
board = esp32dev
framework = arduino
build_flags =
    -D UNIT_TEST
    -D CONFIG_LOG_BUFFER_SIZE=256
    -D CONFIG_LOG_BUFFER_POOL_SIZE=16
    -D CONFIG_FREERTOS_HZ=1000
    -Wall
lib_deps =
    throwtheswitch/Unity@^2.5.2
monitor_speed = 115200
test_filter = test_thread*

[env:esp32s3]
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino
build_flags =
    -D UNIT_TEST
    -D CONFIG_LOG_BUFFER_SIZE=256
    -Wall
lib_deps =
    throwtheswitch/Unity@^2.5.2
monitor_speed = 115200
test_filter = test_*
